<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${luggage.id == null || luggage.id == ''} ? 'Add Luggage' : 'Edit Luggage'">Luggage Form</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>

        body { background: linear-gradient(135deg,#0f172a,#1e293b); min-height:100vh; color:#e5e7eb; }

        .page-wrapper { padding-top:4rem; padding-bottom:4rem; }

        .form-card { background:#020617; border-radius:18px; border:1px solid rgba(148,163,184,0.3); box-shadow:0 24px 60px rgba(15,23,42,0.8); }

        /* Added styles for inputs to match your theme */

        .form-control, .form-select { background-color:#1e293b; color:#e5e7eb; border:1px solid rgba(148,163,184,0.6); }

        .form-control:focus, .form-select:focus { background-color:#1e293b; color:#fff; border-color:#60a5fa; box-shadow:0 0 0 0.2rem rgba(37, 99, 235, 0.35); }

        /* Error styling */

        .invalid-feedback { color: #ef4444; display: block; }

        .form-control.is-invalid, .form-select.is-invalid { border-color: #ef4444; }

        label { font-weight:500; }

        .btn-primary { border-radius:999px; }
    </style>
</head>
<body>

<div class="container page-wrapper">
    <div class="row justify-content-center">
        <div class="col-lg-6">
            <div class="card form-card p-4">
                <h3 class="text-light mb-3" th:text="${luggage.id == null || luggage.id == ''} ? 'Register New Luggage' : 'Edit Luggage'"></h3>

                <form th:object="${luggage}"

                      th:action="${luggage.id == null || luggage.id == ''} ? @{/luggages} : @{/luggages/{id}(id=${luggage.id})}"

                      method="post">

                    <div th:if="${#fields.hasGlobalErrors()}" class="alert alert-danger">
                        <p class="mb-0" th:each="err : ${#fields.globalErrors()}" th:text="${err}"></p>
                    </div>

                    <div class="mb-3">
                        <label for="id">ID</label>
                        <input type="text"

                               id="id"

                               class="form-control"

                               th:field="*{id}"

                               th:classappend="${#fields.hasErrors('id')} ? 'is-invalid' : ''"

                               th:readonly="${luggage.id != null && luggage.id != ''}"

                               placeholder="e.g. LUG-001">
                        <div class="invalid-feedback" th:if="${#fields.hasErrors('id')}" th:errors="*{id}"></div>
                    </div>

                    <div class="mb-3">
                        <label for="ticketId">Ticket ID</label>
                        <input type="text"

                               id="ticketId"

                               class="form-control"

                               th:field="*{ticketId}"

                               th:classappend="${#fields.hasErrors('ticketId')} ? 'is-invalid' : ''"

                               placeholder="e.g. TKT-100">
                        <div class="invalid-feedback" th:if="${#fields.hasErrors('ticketId')}" th:errors="*{ticketId}"></div>
                    </div>

                    <div class="mb-3">
                        <label for="status">Status</label>
                        <select id="status"

                                class="form-select"

                                th:field="*{status}"

                                th:classappend="${#fields.hasErrors('status')} ? 'is-invalid' : ''">
                            <option value="" disabled>-- Select Status --</option>
                            <option th:each="s : ${statuses}"

                                    th:value="${s}"

                                    th:text="${s}">
                            </option>
                        </select>
                        <div class="invalid-feedback" th:if="${#fields.hasErrors('status')}" th:errors="*{status}"></div>
                    </div>

                    <div class="d-flex justify-content-between mt-4">
                        <a href="/luggages" class="btn btn-outline-light">Cancel</a>
                        <button type="submit" class="btn btn-primary">Save Luggage</button>
                    </div>
                </form>

            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
